<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="it" lang="it">
  <head>
    <title>Eventi - Erboristeria Alchimia</title>
    <meta name="description" content="Qui troverai i prossimi eventi in programma e quelli passati organizzati dal negozio Erboristeria Alchimia"/>
    <meta name="keywords" content="eventi, erboristeria, alchimia"/>
    <meta name="language" content="italian it"/>
    <meta name="author" content="Erboristeria Alchimia"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <link rel="icon" href="img/favicon.ico"/>
    <link rel="stylesheet" href="stylesheet.css"/>
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,600&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Material+Icons%7CMaterial+Icons+Outlined%7CMaterial+Icons+Two+Tone%7CMaterial+Icons+Round%7CMaterial+Icons+Sharp" rel="stylesheet"/>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  </head>

  <body id="eventi">
    <!-- <div id="menu">
    </div> -->

    <button><i id="menu_icon" class="material-icons-round">menu</i></button>
    <div id="topbar">
    <h1 id="topbar_title">Eventi</h1>
    </div>

    <div id="header_image"></div>
    <!--  <h1>Eventi</h1> -->
    <div id= "content">
      <h2>Non siamo solo un negozio</h2>
        <p>
          Qui troverai i prossimi eventi in programma e
          quelli passati organizzati dal negozio per farti un'idea delle tematiche che trattiamo
        </p>

      %LISTA_EVENTI%

      <a href="" tabindex="1">Clicca qui per vedere gli eventi passati</a>
    </div>

    <div id="footer">
      Fare l'elicottero per asciugarsi il membro appena usciti dalla doccia
    </div>

    <script>

      const headerImg = document.querySelector("#eventi #header_image");
      const content = document.querySelector("#content");
      const topbar = document.querySelector("#eventi   #topbar");
      const topbarTitle = document.querySelector("#topbar_title");
      const marginTop = document.documentElement.clientWidth*0.63;  // 75vw di margin-top del content - 12vw di altezza topbar
      var yScrollPosition;
      var i;
      var j;

      window.addEventListener("DOMContentLoaded", scrollLoop, false);

      function scrollLoop() {
          yScrollPosition = window.scrollY;
          headerImg.style.transform = "translate3d(" + 0 + ", " + yScrollPosition*-0.45 + "px, 0)";
          // yScrollPosition > margintop ? topbar.style.zIndex = "2" : topbar.style.zIndex = "-2"; //   INEFFICIENTE
          requestAnimationFrame(scrollLoop);
      }
       window.addEventListener('scroll', showTopbar);
       function showTopbar() {
          if (document.documentElement.scrollTop > marginTop) {
            topbar.style.zIndex = "2";
            topbarTitle.classList.add("nopacity");
          } else {
            topbar.style.zIndex = "-2";
            topbarTitle.classList.remove("nopacity");
          }
       }

    </script>
  </body>
</html>
